## III. متغيرات الضبط
### حفظ متغيرات الظبط في بيئة النظام

*متغيرات ضبط* التطبيق هي كل ما هو وارد أن يتغير بين [الإطلاقات](./codebase) (تجريب ما قبل التشغيل، التشغيل، بيئات المطورين، إلخ)، وهذا يشمل:
* مسميات الموارد مثل قاعدة البيانات، Memcached, و[الخدمات الداعمة](./backing-services) الأخري
* بيانات تحقق لخدمات خارجية مثل Amazon S3 أو Twitter.
* متغيرات حسب-الإطلاقة مثل الإسم المعياري للمضيف "canonical hostname" للإطلاقة.

أحيانا يتم تخزين متغيرات الضبط كثوابت بداخل الكود. هذه مخالفة للقواعد الإثنا عشر، والتي تتطلب فصل حازم لمتغيرات الضبط عن الكود. متغيرات الضبط تختلف بنسبة كبيرة بين الإطلاقة والأخري، بينما الكود يظل ثابتاً.

إن اختبار ما اذا كان التطبيق قد تم استخراج متغيرات الضبط منه، هو بمثابة اختبار لإمكانية جعل قاعدة الكود مفتوح المصدر في أي وقت، دون التضحية بأي بيانات ثبوتية "credentials"

لاحظ أن تعريف "متغيرات الضبط" **لا يشمل** متغيرات الضبط الداخلية للتطبيق، مثل `config/routes.rb`، آو [كيف ترتبط الوحدات ببعضها](http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html) في [Spring](http://spring.io/). هذا النوع من المتغيرات لا يتغير بتغير الإطلاقات، وبالتالي فالأولى أن يتم الاحتفاظ به داخل الكود

طريقة أخرى للتعامل مع متغيرات الضبط هو استخدام ملف لمتغيرات الضبط ولا يكون مدرجاً في نظام المراجعة، مثل `config/database.yml` في Rails. وهذا أفضل كثيراً من استخدام الثوابت التي يتم إدراجها في مستودع الكود، لكنه ما يزال نقطة ضعف: حيث أنه من السهل إدراجه بالخطأ في مستودع الكود. هناك ميل نحو تقسيم ملفات الضبط إلي أجزاء مختلفة بصيغ مختلفة، بما يجعل من الصعب رؤيتها أو التحكم فيها جميعا في مكان واحد. وأكثر من ذلك، أن تكون هذه الصيغ محددة بلغات أو منصات عمل مختلفة

**تطبيقات القواعد الإثنا عشر تحفظ متغيرات الضبط كمتغيرات في بيئة النظام** (غالباً ما تسمي اختصاراً: متغيرات بيئية/env vars). متغيرات بيئة النظام سهلة التغيير بين الإطلاقات بدون الحاجة لتغيير أي كود، علي عكس ملفات متغيرات الضبط، والتي هناك فرصة لإدراجها في مستودع الكود بالخطأ. وأيضاً علي عكس ملفات الضبط المخصصة، او أي آلية ضبط أخري مثل Java System Properties, فإن متغيرات بيئة النظام معيارية ومحايدة تجاه لغات البرمجة ونظم التشغيل

منظور آخر لإدارة متغيرات الضبط وهو التجميع. أحياناً تقوم التطبيقات بتجميع المتغيرات في مجموعات (غالباً يتم تسميتها "بيئات") وتسمي بإسم إطلاقات معينة، مثل `development`, `test`, `production` في Rails. هذه الطريقة لا تجعل التوسع نظيفاً: حيث أنه مع استحداث إطلاقات جديدة، لابد من استحداث أسماء بيئات جديدة، مثل `staging`, `qa`.وكلما كبر المشروع، ربما يضيف المطورون بيئاتهم الخاصة، مثل: `joes-staging`, منتجين بذلك انفجاراً اندماجياً من المتغيرات، مما سيجعل إدارة الإطلاقات أمراً صعباً

في تطبيق القواعد الإثنا عشر، متغيرات البيئة هي ضوابط صغيرة، يتعامد كل منها كلياً علي متغيرات بيئية أخرى. لا تضم علي بعضها في صورة "بيئات"، وإنما تدار باستقلالية لكل إطلاقة. هذا النموذج يمكنه التوسع بسلاسة مع النمو الطبيعي للتطبيق واحتياجه إلى إطلاقات جديدة خلال فترة حياته.
