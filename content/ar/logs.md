## XI. السجلات
### اعتبار السجلات كدفق للأحداث

*السجلات* تُمكن من الرؤية بداخل النظام قيد التشغيل. في البيئات القائمة على سيرفر، عادة ما تكوت السجلات مكتوبة في ملف علي القرص ("ملف السجلات")، لكن هذا مجرد صيغة إخراج

 السجلات هي [دفق](https://adam.herokuapp.com/past/2011/4/1/logs_are_streams_not_files/) لأحداث مجمعة ومُرتبة زمنياً، مجمعة من تدفقات الإخراج لكل العمليات الجارية والخدمات الداعمة. السجلات في صيغتها الأساسية هي  مجرد صيغة نصية في وجود حدث واحد لكل سطر (وعليه، فإن تتبع الاستثناءات ربما يأخذ عدة أسطر). السجلات ليس لها بداية أو نهاية محددة، وإنما تتدفق باستمرارية طالما أن البرنامج يعمل.
 
**تطبيق القواعد الإثني عشر لا ينشغل مطلقاً بتوجيه أو تخزين تدفقات الإخراج هذه**. لا يعمل علي حفظ أو إدارة ملفات السجلات. وإنما تقوم كل عملية قيد التشغيل بكتابة دفق أحداثها إلي وسيلة الإخراج الافتراضية `stdout`. أثناء التطوير محلياً، يقوم المطور بمطالعة هذا الدفق في الطرفية ليراقب تطرف التطبيق.

في إطلاقة الإنتاج أو التجريب ما قبل الإنتاج، يتم التقاط كل دفق لعملية بواسطة بيئة التشغيل، يتم تجميعها مع كل التدفقات من التطبيق، ثم توجيهها إلى واحد أو أكثر من الوجهات النهائية للاستعراض والأرشفة طويلة الأمد. وجهات الأرشفة هذه مرئية أو متاحة للضبط بواسطة التطبيق، وإنما مُدارة بالكامل بواسطة بيئة التنفيذ. موجهات مسار سجلات مفتوجة المصدر (مثل [Logplex](https://github.com/heroku/logplex) و [Fluentd](https://github.com/fluent/fluentd)) متاحة لهذا الغرض.

دفق الأحداث لتطبيق يمكن توجيه مساره إلي ملف، أو متابعته لحظياً عبر الطرفية. الأهم من ذلك، أن هذا الدفق يمكن إرساله إلي نظام فهرسة وتحليل مثل [Splunk](http://www.splunk.com/) ، أو نظام تخزين بيانات متعدد الأغراض مثل [Hadoop/Hive](http://hive.apache.org/). هذه النظم تمنح قدرة كبيرة ومرونة لفحص سلوك التطبيق مع مرور الوقت، وهذا يشمل:

* البحث عن أحداث معينة في السابق
* المخططات البيانية واسعة النطاق للاتجاهات (مثل عدد الطلبات في الثانية)
* التنبيهات النشطة بناء علي محددات تجريبية بواسطة المستخدم (مثل التنبيه عندما يتخطي عدد الأخطاء في الثانية لمستوي محدد).
