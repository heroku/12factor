## IV. Háttérszolgáltatások
### Kezeljük a háttérszolgáltatásokat csatolt erőforrásokként

*Háttérszolgáltatás* minden, amit az alkalmazás normál működése közben a hálózaton keresztül használ.  Ide tartoznak például az adatokat tároló rendszerek (mint a [MySQL](http://dev.mysql.com/) vagy a [CouchDB](http://couchdb.apache.org/)), az üzeneteket kezelő/sorbaállító rendszerek (mint a [RabbitMQ](http://www.rabbitmq.com/) vagy [Beanstalkd](http://kr.github.com/beanstalkd/)), az SMTP szolgáltatások a kimenő email kezeléséhez (mint a [Postfix](http://www.postfix.org/)), és a gyorsítótárak (mint a [Memcached](http://memcached.org/)).

Az alkalmazás adatbázisához hasonló háttérszolgáltatásokat hagyományosan ugyanazok a rendszergazdák üzemeltetik, mint akik az alkalmazást üzembe állítják és üzemeltetik.  Ezek mellett a helyben kezelt és üzemeltetett szolgáltatások mellett az alkalmazás használhat harmadik fél által üzemeltetett szolgáltatásokat.  Ilyenek például az SMTP szolgáltatások (mint a [Postmark](http://postmarkapp.com/)), a telemetriát gyűjtő szolgáltatások (mint a [New Relic](http://newrelic.com/) vagy a [Loggly](http://www.loggly.com/)), a bináris tartalom szolgáltatások (amint az [Amazon S3](http://aws.amazon.com/s3/)), vagy akár API-n keresztül elérhető fogyasztói (mint a [Twitter](http://dev.twitter.com/), a [Google Maps](https://developers.google.com/maps/), vagy a [Last.fm](http://www.last.fm/api)) szolgáltatások.

**A 12 tényezős alkalmazásfejlesztési alapelveknek megfelelő alkalmazás kódja nem tesz különbséget a helyi vagy a 3. személy által üzemeltetett szolgáltatások között**  Az alkalmazás számára mindegyik csatolt erőforrás, amit a [konfigurációban](./config) tárolt akár URL-en akár másmilyen elérési/hozzáférési adatokon keresztül ér el.  A 12 tényezős alkalmazás [üzembe helyezett példánya](./codebase) képesnek kell lennie a helyi MySQL adatbázis helyett egy külső szolgáltató által üzemeltetettre (mint az [Amazon RDS](http://aws.amazon.com/rds/)) váltani az alkalmazás kódbázisának a változtatása nélkül. Hasonlóan, a helyi SMTP szervert le lehet cserélni a forráskód változtatása nélkül külső SMTP szolgáltatóra (mint például a Postmark).  Mindkét esetben csak a konfigurációban az erőforrás hivatkozásán szükséges változtatni.

Minden egyes háttérszolgáltatás az egy *erőforrás*.  Például, egy MySQL adatbázis az egy erőforrás, így két MySQL adatbázis (az alkalmazás rétegben horizontális particionáláshoz felhasználva) két különböző erőforrásnak minősül.  A 12 tényezős alkalmazás ezeket az adatbázisokat *csatolt erőforrásként* kezeli, ami jelzi a gyenge csatolásukat (loose coupling) az alkalmazás hozzájuk csatlakozó, üzembe helyezett példányával.

<img src="/images/attached-resources.png" class="full" alt="A production deploy attached to four backing services." />

Az erőforrásokat az alkalmazás telepített példányához igény szerint csatlakoztathatjuk és onnan leválaszthatjuk. Például, ha az adatbázis működésképtelenné válik fizikai meghibásodás miatt, akkor az alkalmazás rendszergazdája egy új adatbázis-szervert indíthat a legutóbbi biztonsági mentésből. Az aktuális éles adatbázist le tudja választani és az új adatbázist csatlakoztatni tudja anélkül, hogy a kódbázison változtatni kéne.
