## XI. Журнал падзей (logs)
### Разглядайце журналы як патокі падзей

*Журналы падзей* забяспечвае бачнасць паводзін запушчанага дадатка. У серверных асяроддзях яны звычайна запісваюцца ў файл на дыску ("logfile"); але гэта толькі выхадны фармат.

Журналы падзей - гэта [паток](https://adam.herokuapp.com/past/2011/4/1/logs_are_streams_not_files/) агрэгаваных, упарадкаваных па часе падзей, сабраных з выходных патокаў ўсіх запушчаных працэсаў і бэкэнд сэрвісаў. Пратаколы ў іх неапрацаваным выглядзе звычайна ўяўляюць сабой тэкставы фармат з адной падзеяй у радку (хоць зваротныя сляды ад выключных выпадкаў могуць ахопліваць некалькі радкоў). Пратаколы не маюць фіксаванага пачатку ці канца, але цякуць бесперапынна, пакуль дадатак працуе.

**Дванаццаці-фактарны дадатак ніколі не займаецца маршрутызацыяй або захоўваннем свайго выхаднога патоку.** Ён не павінен спрабаваць запісваць файлы журнала падзей або кіраваць імі. Замест гэтага кожны запушчаны працэс запісвае свой паток падзей, не буферызаваны, у `выходны паток`. Падчас лакальнай распрацоўкі распрацоўшчык будзе праглядаць гэты паток на пярэднім плане свайго тэрмінала, каб назіраць за паводзінамі дадатка.

Пры прамежкавым або вытворчым разгортванні паток кожнага працэсу будзе злучаны з асяроддзем выканання, супастаўлены з усімі іншымі патокамі з дадатка і накіраваны ў адзін або некалькі канчатковых пунктаў накіравання для прагляду і доўгатэрміновага архівавання. Гэтыя архіўныя накіраванні не бачныя і не наладжваюцца дадаткам, а замест гэтага цалкам кіруюцца асяроддзем выканання. Для гэтай мэты даступны маршрутызатары журналаў з адкрытым кодам (такія як [Logplex](https://github.com/heroku/logplex) і [Fluentd](https://github.com/fluent/fluentd)).

Паток падзей для дадатка можа быць перанакіраваны ў файл або прагледжаны з дапамогай апошніх радкоў у тэрмінале. Найбольш важна тое, што паток можа быць адпраўлены ў сістэму індэксавання і аналізу журналаў, такую як [Splunk](http://www.splunk.com/), або ў сістэму захоўвання дадзеных агульнага прызначэння, такую як [Hadoop/Hive](http://hive.apache.org/). Гэтыя сістэмы забяспечваюць вялікую магутнасць і гнуткасць для інтраспекцыі паводзін дадатка з цягам часу, у тым ліку:

* Пошук канкрэтных падзей у мінулым.
* Буйнамаштабнае пабудова графікаў трэндаў (напрыклад, запытаў у хвіліну).
* Актыўнае апавяшчэнне ў адпаведнасці з зададзенай карыстальнікам эўрыстыкай (напрыклад, апавяшчэнне, калі колькасць памылак у хвіліну перавышае пэўны парог).
