## IV. שירותים מגבים
### התייחס אל שירותים מגבים כאל משאבים מצורפים

*שירות מגבה* הינו כל שירות שהאפליקצייה משתמשת בתווך התקשורת כחלק מתהליך העבודה שלה.
לדוגמא בסיסי נתונים (כמו [MySQL](http://dev.mysql.com/) או [CouchDB](http://couchdb.apache.org/)), שירותי הודעות\ניהול תורים (כמו [RabbitMQ](http://www.rabbitmq.com/) או [Beanstalkd](https://beanstalkd.github.io)), שירותי SMTP לשליחת מיילים (כמו [Postfix](http://www.postfix.org/)) ושירותי מטמון (כמו [Memcached](http://memcached.org/)).

שירותים מגבים כמו בסיס נתונים מנוהלים, בדרך כלל, על ידי אותם מנהלים שפורסים את סביבת האפליקציה. בנוסף לשירותים אלו, אשר מנוהלים מקומית, ייתכן ולאפליקציה שירותים נוספים חיצוניים.
לדוגמא, שירותי SMTP (כמו [Postmark](http://postmarkapp.com/)), שירותי שמירת מטריקות (כמו [New Relic](http://newrelic.com/) או [Loggly](http://www.loggly.com/)), שירותי תוצרים כמו (כמו [Amazon S3](http://aws.amazon.com/s3/)) ושירותי מידע בנגישות API (כמו [Twitter](http://dev.twitter.com/), [Google Maps](https://developers.google.com/maps/), או [Last.fm](http://www.last.fm/api)).

**קוד במתודולוגיית שניים-עשר הגורמים אינו מבדיל בין שירותים מקומיים לשירותים חיצוניים.**
עבור האפליקציה, שניהם הם משאבים מצורפים אשר ניגשים אליהם דרך URL או דומיו [בקונפיגורציה](./config). [גרסה](./codebase) של אפליקצייה על פי מתודולוגיית שניים-עשר הגורמים צריכה להיות בעלת יכולת החלפה בין בסיס נתונים מקומי לבסיס נתונים אשר מנוהל על ידי שירות חיצוני (לדוגמא MySQL מקומי אל מול [Amazon RDS](http://aws.amazon.com/rds/)) ללא שינויים בקוד. כמו גם, שירות SMTP מקומי יכול להיות מוחלף על ידי שירות SMTP חיצוני (כמו Postmark) ללא שינויים בוקד. בשני המצבים, רק הקונפיגורצייה צריכה להשתנות.

כל שירות כזה הוא *משאב*. לדוגמא, בסיס נתונים MySQL הוא משאב; שני בסיס נתונים MySQL (להפרדה בין שכבות האפליקציה) הם שני משאבים נפרדים. אפליקצייה על פי מתודולוגיית שניים-אשר הגורמים תתייחס אל בסיסי הנתונים הללו כ*משאבים מצורפים*, אשר תגרום לצימוד רופף באשר לפריסה שלה.

<img src="/images/attached-resources.png" class="full" alt="הורדת גרסה בצירוף ארבעה שירותים מגבים." />

ניתן לצרף ולנתק משאבים על פי הצורך. לדוגמא, אם בסיס הנתונים של האפליקציה אינו עובד כראי עקב בעיות חומרה, מנהל האפליקציה יכול להרים שרת חדש מגיבוי. שירות בסיס הנתונים הישן יינותק מהאפליקציה והחדש יצורף לאפליקציה ללא שינויים בקוד.