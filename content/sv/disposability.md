## IX. Disposability (engångsbruk)
### Maximimera robusthet med snabb uppstart och behaglig nedstängning

**Tolvfaktorapplikationens [processer](./processes) är för *engångsbruk*, i betydelsen att de kan startas och stoppas när man behagar.** Detta förenklar snabb elastiskt skalning, snabb produktionssättning av [kod](./codebase) eller [konfigurationsändringar](./config), och robustheten av produktionssättningar.
**The twelve-factor app's [processes](./processes) are *disposable*, meaning they can be started or stopped at a moment's notice.**  This facilitates fast elastic scaling, rapid deployment of [code](./codebase) or [config](./config) changes, and robustness of production deploys.

Processer bör sträva efter att **minimera starttid**. 
Processes should strive to **minimize startup time**. Helst bör en process ta ett fåtal sekunders tid mellan att kommandot anropas och att processen är uppe och är redo att emotta anrop eller job. Kort starttid erbjuder mer för anpassningsbarhet för [kodsläppsprocessen](./build-release-run) och uppskalning, och det hjälper robusthet eftersom processhanteraren kan lätt flytta processer till nya fysiska maskiner när det är motiverat.
Processes should strive to **minimize startup time**.  Ideally, a process takes a few seconds from the time the launch command is executed until the process is up and ready to receive requests or jobs.  Short startup time provides more agility for the [release](./build-release-run) process and scaling up; and it aids robustness, because the process manager can more easily move processes to new physical machines when warranted.

Processer **stänger ner på ett behagligt sätt när de mottar en [SIGTERM-signal](http://en.wikipedia.org/wiki/SIGTERM)** från processhanteraren. För webbprocesser, en behaglig nedstängning uppnås genom att sluta lyssna på serviceportar (därigenom vägra ta emot nya anrop) vilket tillåter pågående processer att avsluta, och sedan stänga ner. Implicit i denna modell är att HTTP-anrop är korta (inte mer än några få sekunder) eller i fallet längre pollning ska klienten sömlöst försöka att återansluta när anslutningen tappas.
Processes **shut down gracefully when they receive a [SIGTERM](http://en.wikipedia.org/wiki/SIGTERM)** signal from the process manager.  For a web process, graceful shutdown is achieved by ceasing to listen on the service port (thereby refusing any new requests), allowing any current requests to finish, and then exiting.  Implicit in this model is that HTTP requests are short (no more than a few seconds), or in the case of long polling, the client should seamlessly attempt to reconnect when the connection is lost.

För en arbetsprocess uppnås en behaglig nedstängning genom att returnera the pågående jobbet till arbetskön. Till ex., på [RabbitMQ](http://www.rabbitmq.com/) kan arbetsprocessen skicka ett [`NACK`](http://www.rabbitmq.com/amqp-0-9-1-quickref.html#basic.nack), på [Beanstalkd](https://beanstalkd.github.io) returneras jobbet till kön automatiskt så fort en arbetsprocess frånkopplas. Lås-baserade system såsom [Delayed Job](https://github.com/collectiveidea/delayed_job#readme) behöver vara säkra på att släppa deras lås på jobbets register. Implicit i denna modell är att alla jobb [återställande](http://en.wikipedia.org/wiki/Reentrant_%28subroutine%29) (eng. "reentrant"), vilket vanligtvis uppnås genom att inkapsla resultatet i en transaktion, eller genom att göra operationen [idempotent](http://en.wikipedia.org/wiki/Idempotence).
For a worker process, graceful shutdown is achieved by returning the current job to the work queue.  For example, on [RabbitMQ](http://www.rabbitmq.com/) the worker can send a [`NACK`](http://www.rabbitmq.com/amqp-0-9-1-quickref.html#basic.nack); on [Beanstalkd](https://beanstalkd.github.io), the job is returned to the queue automatically whenever a worker disconnects.  Lock-based systems such as [Delayed Job](https://github.com/collectiveidea/delayed_job#readme) need to be sure to release their lock on the job record.  Implicit in this model is that all jobs are [reentrant](http://en.wikipedia.org/wiki/Reentrant_%28subroutine%29), which typically is achieved by wrapping the results in a transaction, or making the operation [idempotent](http://en.wikipedia.org/wiki/Idempotence).

Processer bör också vara **robusta mot plötslig avstängning** (eng. "sudden death"), i händelse av avbrott i den underliggande hårdvaran. Medan detta är ett mycket mindre vanlig företeelse än en behaglig nedstängning med `SIGTERM` så kan det fortfarande inträffa. Ett rekommenderat tillvägagångssätt är en robust köande tjänst, såsom Beanstalkd, som returnerar jobb till kön när en klient frånkopplas eller får timeout. Oavsett, en tolvfaktorapplikation har sådan arkitektur att den hanterar oväntade, icke-behagliga avslut. [Crash-only design](http://lwn.net/Articles/191059/) tar detta koncept till dess [logiska slutsats](http://docs.couchdb.org/en/latest/intro/overview.html).
Processes should also be **robust against sudden death**, in the case of a failure in the underlying hardware.  While this is a much less common occurrence than a graceful shutdown with `SIGTERM`, it can still happen.  A recommended approach is use of a robust queueing backend, such as Beanstalkd, that returns jobs to the queue when clients disconnect or time out.  Either way, a twelve-factor app is architected to handle unexpected, non-graceful terminations.  [Crash-only design](http://lwn.net/Articles/191059/) takes this concept to its [logical conclusion](http://docs.couchdb.org/en/latest/intro/overview.html).
