## IV. Servicios de apoyo
### Tratar a los servicios de apoyo como recursos adjuntos

Un *servicio de apoyo* es cualquier servicio que la aplicación consume a través de la red como parte de sus operaciones habituales. Algunos ejemplos son las bases de datos (como [MySQL](http://dev.mysql.com/) o [CouchDB](http://couchdb.apache.org/)), los sistemas de mensajes/colas (como [RabbitMQ](http://www.rabbitmq.com/) o [Beanstalkd](http://kr.github.com/beanstalkd/)), los servicios de SMTP para envío de emails (como [Postfix](http://www.postfix.org/)), y sistemas de caché (como [Memcached](http://memcached.org/)).

Los servicios de apoyo como la base de datos son tradicionalmente gestionados por los mismos administradores de sistemas que gestionan los servidores en los que se despliega la aplicación. Además de estos servicios locales, la aplicación también puede tener servicios que son ofrecidos y manejados por terceros. Algunos ejemplos son los servicios de SMTP (como [Postmark](http://postmarkapp.com/)), los de colección de métricas (como [New Relic](http://newrelic.com/) o [Loggly](http://www.loggly.com/)), los de almacenamiento de archivos binarios (como [Amazon S3](http://aws.amazon.com/s3/)) e incluso los servicios de consumidores finales que son accesibles a través de APIs (como [Twitter](http://dev.twitter.com/), [Google Maps](http://code.google.com/apis/maps/index.html), o [Last.fm](http://www.last.fm/api)).

**El código de una aplicación twelve-factor no distingue entre servicios locales y de terceros.** Para la aplicación ambos son recursos adjuntos a los que se accede a través de una URL y otro localizador/credenciales almacenados en la [configuración](./config). Un [despliegue](./codebase) de una aplicación twelve-factor debe ser capaz de cambiar una base de datos MySQL local por una gestionada por terceros (como [Amazon RDS](http://aws.amazon.com/rds/)) sin realizar ningún cambio en el código. De igual manera, será posible reemplazar un servidor SMTP local por un servicio de SMTP de terceros (como Postmark) sin cambios en el código. En ambos casos bastará con cambiar las credenciales en la configuración.

Cada servicio es un *recurso*. Por ejemplo, una base de datos MySQL es un recurso. Dos bases de datos MySQL (usadas para sharding dentro de la aplicación) se consideran dos recursos distintos. Una aplicación twelve-factor trata estas bases de datos como *recursos adjuntos*, lo que indica su bajo acoplamiento con el despliegue al que están asociados.

<img src="/images/attached-resources.png" class="full" alt="Un despliegue de producción adjunto a cuatro servicios de apoyo." />

Los recursos se pueden adjuntar y desconectar de los deploys a voluntad. Por ejemplo, si la base de datos de la aplicación no está funcionando bien debido a un problema de hardware, el administrador de la aplicación podría arrancar un nuevo servidor de la base de datos restaurada a partir una copia de seguridad reciente. La base de datos actual de producción se podría desconectar y la nueva base de datos se podría adjuntar -- todo sin realizar ningún cambio en el código.
