## IV. خدمات پشتیبان
### سرویس‌های پشتیبان را به عنوان منابع پیوست تلقی کنید

*سرویس پشتیبان* هر سرویسی است که برنامه از طریق شبکه به عنوان بخشی از عملکرد عادی خود استفاده می‌کند، از این بین می‌توان پایگاه‌داده‌ها (مانند [MySQL](http://dev.mysql.com/) یا [CouchDB](http://couchdb.apache.org/))، سیستم‌های پیام‌رسانی/صف (مانند [RabbitMQ](http://www.rabbitmq.com/) یا [Beanstalkd](https://beanstalkd.github.io))، سرویس‌های SMTP برای ایمیل‌های خروجی (مانند [Postfix](http://www.postfix.org/ ))، و سیستم‌های کش (مانند [Memcached](http://memcached.org/)) را نام برد.

سرویس‌های پشتیبان مانند پایگاه‌داده به طور سنتی توسط همان مدیران سیستمی مدیریت می‌شوند که در زمان اجرا، برنامه‌ی کاربردی را مستقر می‌کنند. علاوه بر این، سرویس‌های مدیریت شده‌ی محلی برنامه، ممکن است خدماتی نیز داشته باشد که توسط اشخاص ثالث ارائه و مدیریت می‌شوند. به عنوان مثال، خدمات SMTP (مانند [Postmark](http://postmarkapp.com/))، خدمات پایشگر سنجه‌های برنامه (مانند [New Relic](http://newrelic.com/) یا [Loggly](http://www.loggly.com/)، خدمات ذخیره‌سازی داده‌های حجیم (مانند [Amazon S3](http://aws.amazon.com/s3/))، و حتی خدمات سایر API های قابل دسترس برای مشتری‌ها (مانند [توئیتر](http://dev.twitter.com/)، [Google Maps](https://developers.google.com/maps/)، یا [Last.fm](http://www.last.fm/api )) از دست هستند.

**کد یک برنامه‌ی دوازده-سازه، هیچ تمایزی بین خدمات ارائه‌شده توسط سامانه‌های داخلی و سرویس‌دهنده‌های بیرونی ایجاد نمی کند.** از دید برنامه‌ی کاربردی، هر دو نوع این سرویس‌ها، منابع پیوست‌شده‌ی سامانه هستند که از طریق یک URL یا از طریق نشانی/اطلاعات محرمانه در [config](./config) برنامه قابل دسترسی هستند. یک [deploy](./codebase) از برنامه دوازده-سازه باید بتواند یک پایگاه داده‌ی داخلی MySQL را با پایگاه‌داده‌ای که توسط شخص ثالث مدیریت می‌شود (مانند [Amazon RDS](http://aws.amazon.com/rds/)) تعویض کند، بدون این‌که هیچ تغییری در کد برنامه اعمال شود. به همین ترتیب، یک سرور SMTP داخلی را می توان با یک سرویس SMTP شخص ثالث (مانند Postmark) بدون تغییر کد جا به جا کرد. در هر دو مورد، تنها موردی که باید دچار تغییر شود، نشانی دسترسی به منبع پیوست‌شده است.

هر سرویس پشتیبان مجزا، یک *منبع* است. به عنوان مثال، پایگاه داده‌ی MySQL یک منبع است. دو پایگاه داده MySQL (که برای اشتراک گذاری در لایه‌ی برنامه استفاده می شود) به عنوان دو منبع مجزا واجد شرایط هستند. برنامه دوازده-سازه این پایگاه‌های داده را به‌عنوان *منابع پیوست‌شده* در نظر می‌گیرد، که نشان‌دهنده اتصال ضعیف آن‌ها به استقراری است که در آن اجرا شده‌اند.

<img src="/images/attached-resources.png" class="full" alt="یک محیط استقرار که چهار سرویس پشتیبان به آن متصل شده‌اند." />

منابع را می‌توان به دلخواه به محیط‌های استقرار متصل کرد و از آنها جدا کرد. به عنوان نمونه اگر پایگاه‌داده‌ی برنامه به دلیل مشکل سخت افزاری به درستی پاسخ درخواست‌ها را ندهد، مدیر برنامه ممکن است سرور پایگاه‌داده‌ی جدیدی را که از یک نسخه پشتیبان اخیر بازیابی شده است، جایگزین کند. پایگاه‌داده‌ی عملیاتی کنونی را می توان جدا کرد، و پایگاه‌داده‌ی جدید را بدون هیچ تغییری در کد به برنامه پیوست کرد.

